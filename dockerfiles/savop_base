FROM ubuntu:22.04
# RUN sed -i "s@http://.*archive.ubuntu.com@http://mirrors.tuna.tsinghua.edu.cn@g" /etc/apt/sources.list
# RUN sed -i "s@http://.*security.ubuntu.com@http://mirrors.tuna.tsinghua.edu.cn@g" /etc/apt/sources.list
RUN rm -rf /var/lib/apt/lists/*
RUN rm -rf /var/lib/apt/lists/partial/*
RUN apt-get update
RUN apt install -y libssh-gcrypt-dev libpcap-dev
RUN apt-get -y install python3 python3-pip python3-setuptools iputils-ping net-tools vim traceroute sqlite3 iptables iproute2 curl iperf iperf3 tcpdump
RUN pip install Flask gunicorn blinker flask-sqlalchemy netaddr requests grpcio grpcio-tools protobuf scapy==2.5.0 aioquic wsproto starlette 
# -i https://pypi.mirrors.tuna.tsinghua.edu.cn/simple/
